{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@nodeloc/flarum-ext-referral/./node_modules/dayjs/dayjs.min.js","webpack://@nodeloc/flarum-ext-referral/webpack/bootstrap","webpack://@nodeloc/flarum-ext-referral/webpack/runtime/compat get default export","webpack://@nodeloc/flarum-ext-referral/webpack/runtime/define property getters","webpack://@nodeloc/flarum-ext-referral/webpack/runtime/hasOwnProperty shorthand","webpack://@nodeloc/flarum-ext-referral/webpack/runtime/make namespace object","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['forum/app']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/extend']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@nodeloc/flarum-ext-referral/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@nodeloc/flarum-ext-referral/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/Page']\"","webpack://@nodeloc/flarum-ext-referral/./src/forum/pages/RedirectToHomeAndOpenModalPage.js","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['forum/components/SignUpModal']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@nodeloc/flarum-ext-referral/./src/forum/pages/SignupPage.js","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/extenders']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/Button']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@nodeloc/flarum-ext-referral/./src/forum/modals/BuyInviteCode.js","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/utils/humanTime']\"","webpack://@nodeloc/flarum-ext-referral/./src/forum/modals/FreeInviteCode.js","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/Component']\"","webpack://@nodeloc/flarum-ext-referral/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@nodeloc/flarum-ext-referral/./src/forum/pages/StoreIndex.js","webpack://@nodeloc/flarum-ext-referral/./src/forum/extend.js","webpack://@nodeloc/flarum-ext-referral/./src/forum/index.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\n\nexport default class RedirectToHomeAndOpenModalPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    m.route.set('/');\n\n    setTimeout(() => app.modal.show(this.createModal()), 1500);\n  }\n\n  createModal() {\n    return null;\n  }\n\n  view() {\n    return m('div');\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/SignUpModal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import app from 'flarum/forum/app';\nimport RedirectToHomeAndOpenModalPage from './RedirectToHomeAndOpenModalPage';\nimport SignUpModal from 'flarum/forum/components/SignUpModal';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class SignupPage extends RedirectToHomeAndOpenModalPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n    // 从 URL 中获取 doorkey 参数\n    app.doorkey = vnode.attrs.doorkey || '';\n  }\n\n  createModal() {\n    if (!app.session.user) {\n      return SignUpModal;\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extenders'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class BuyInviteCode extends Modal {\n\n  constructor() {\n    super();\n    this.invite_code_price = app.forum.attribute('invite_code_price');\n    this.invite_code_reward = app.forum.attribute('invite_code_reward');\n    this.invite_code_max_number = app.forum.attribute('invite_code_max_number');\n    this.invite_code_expires = app.forum.attribute('invite_code_expires');\n    this.key_count = Stream('0');\n  }\n\n  className() {\n    return 'store-buy Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('nodeloc-referral.forum.purchase_invite_code');\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    this.loading = true;\n\n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/store/referral',\n      body: {\n        key_count: this.key_count(),\n      },\n    }).then((result) => {\n      this.loading = false;\n      if (result.error) {\n        app.alerts.show(\n          {\n            type: 'error',\n          },\n          result.error\n        );\n        return;\n      }\n\n      this.key_count('0');\n      this.hide();\n      m.route.set(m.route.get());\n    });\n  }\n\n  content() {\n    return (\n      <div className=\"container buy-store-layer\">\n        <div className=\"Form\">\n          <div className=\"helpText\">\n            {app.translator.trans('nodeloc-referral.forum.purchase_help_tip', {\n              invite_code_price: this.invite_code_price,\n              invite_code_reward: this.invite_code_reward\n            })}\n          </div>\n          <div className=\"Form-group\">\n            <label\n              for=\"buy-store-to-mail\">{app.translator.trans('nodeloc-referral.forum.purchase_invite_code', {invite_code_max_number: this.invite_code_max_number})}</label>\n            <div\n              className=\"helpText\">{app.translator.trans('nodeloc-referral.forum.purchase_expire_tip', {invite_code_expires: this.invite_code_expires})} </div>\n            <input\n              required\n              id=\"buy-store-to-mail\"\n              className=\"FormControl\"\n              type=\"number\"\n              bidi={this.key_count}\n            />\n          </div>\n          <Button\n            className=\"Button Button--primary\"\n            type=\"submit\"\n            loading={this.loading}\n            onclick={(e) => this.onsubmit(e)}\n          >\n            购买\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/humanTime'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport humanTime from 'flarum/common/utils/humanTime';\nimport dayjs from 'dayjs';\n\nexport default class FreeInviteCode extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loading = true;\n    this.lastRecord = null; // 最后一次免费领取记录\n    this.freecodeList = []; // 用户组邀请码信息\n    this.days = 0;\n    this.amount = 0;\n    this.canClaim = false; // 是否可以领取\n    this.remainingTime = null; // 冷却时间\n\n    // 请求 API\n    const lastFreeCodeRequest = app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/store/referral/last-free-code',\n    });\n\n    const freecodeListRequest = app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/freecode-list',\n    });\n\n    Promise.all([lastFreeCodeRequest, freecodeListRequest])\n      .then(([lastFreeCodeResponse, freecodeListResponse]) => {\n        this.lastRecord = lastFreeCodeResponse.data?.attributes || {};\n        this.freecodeList = freecodeListResponse.data || [];\n\n        const userGroups = app.session.user?.groups() || [];\n        const userGroupPermissions = userGroups.map(group => ({\n          id: group.id(),\n          readPermission: group.attribute('readPermission') || 0, // 读取扩展字段\n        })).filter(Boolean);\n\n        const highestPermissionGroup = userGroupPermissions.reduce(\n          (max, group) => (group.readPermission > max.readPermission ? group : max),\n          { id: null, readPermission: -1 }\n        );\n\n        // **匹配 freecode-list 获取 days 和 amount**\n        const matchedFreeCode = this.freecodeList.find(\n          item => item.relationships?.group?.data?.id === highestPermissionGroup.id\n        );\n\n        if (matchedFreeCode) {\n          this.days = matchedFreeCode.attributes.days;\n          this.amount = matchedFreeCode.attributes.amount;\n        }\n\n        // **判断是否可以领取**\n        if (this.lastRecord.id) {\n          const lastClaimTime = dayjs(this.lastRecord.created_at);\n          const now = dayjs();\n          const diffHours = now.diff(lastClaimTime, 'hour'); // 计算小时差\n          const cooldownHours = this.days * 24;\n          this.remainingTime = Math.max(cooldownHours - diffHours, 0);\n          this.canClaim = diffHours >= cooldownHours;\n        } else {\n          this.canClaim = true;\n        }\n\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(error => {\n        console.error('Error loading data:', error);\n        this.loading = false;\n      });\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    if (!this.canClaim) return;\n\n    this.loading = true;\n    m.redraw();\n\n    app.request({\n      method: 'POST',\n      url: app.forum.attribute('apiUrl') + '/store/free',\n    })\n      .then((result) => {\n        this.loading = false;\n        if (result.error) {\n          app.alerts.show({ type: 'error' }, result.error);\n          return;\n        }\n        this.hide();\n        m.route.set(m.route.get());\n      })\n      .catch((error) => {\n        this.loading = false;\n        app.alerts.show({ type: 'error' }, app.translator.trans('nodeloc-referral.forum.claim_failed'));\n        m.redraw();\n      });\n  }\n\n  content() {\n    return (\n      <div className=\"container buy-store-layer\">\n        <div className=\"Form\">\n          <div className=\"helpText\">\n            {app.translator.trans('nodeloc-referral.forum.free_help_tip', {\n              days: this.days,\n              amount: this.amount\n            })}\n          </div>\n          <div className=\"Form-group\">\n            {this.remainingTime > 0 && (\n              <div className=\"helpText\">\n                {app.translator.trans('nodeloc-referral.forum.next_available', {\n                  hours: this.remainingTime\n                })}\n              </div>\n            )}\n          </div>\n          <Button\n            className=\"Button Button--primary\"\n            type=\"submit\"\n            loading={this.loading}\n            disabled={!this.canClaim}\n            onclick={(e) => this.onsubmit(e)}\n          >\n            {this.canClaim\n              ? app.translator.trans('nodeloc-referral.forum.claim_now')\n              : app.translator.trans('nodeloc-referral.forum.wait_to_claim')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","import IndexPage from 'flarum/components/IndexPage';\nimport app from 'flarum/forum/app';\nimport listItems from 'flarum/common/helpers/listItems';\nimport Button from 'flarum/common/components/Button';\nimport BuyInviteCode from \"../modals/BuyInviteCode\";\nimport FreeInviteCode from \"../modals/FreeInviteCode\";\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Component from 'flarum/common/Component';\nimport Alert from 'flarum/common/components/Alert';\n\nexport default class StoreIndex extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('nodeloc-referral.forum.referral'));\n    app.setTitleCount(0);\n    const invite_code_price = app.forum.attribute(\"invite_code_price\");\n    const invite_code_max_number = app.forum.attribute(\"invite_code_max_number\");\n    const invite_code_expires = app.forum.attribute(\"invite_code_expires\");\n    this.loadData();\n  }\n  loadData() {\n    app.request({\n      method: 'GET',\n      url: app.forum.attribute('apiUrl') + '/store/referral/show',\n    }).then(response => {\n      if (response.data) {\n        this.records = response;\n        m.redraw();\n      }\n    });\n  }\n  view() {\n    return (\n      <div className=\"IndexPage\">\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className=\"sideNavContainer\">\n            <nav className=\"IndexPage-nav sideNav\">\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n            <div class=\"StoreIndex\">\n              <div class=\"container\">\n                <div class=\"sideNavContainer\">\n                  <div class=\"StoreIndex-results sideNavOffset\">\n                    <Button\n                      class=\"Button Button--primary\"\n                      onclick={() => {\n                        app.modal.show(BuyInviteCode);\n                      }}\n                    >\n                      {app.translator.trans('nodeloc-referral.forum.purchase_invite_code')}\n                    </Button>\n\n                    <Button\n                      style=\"margin-left: 10px;\"\n                      class=\"Button Button--primary\"\n                      onclick={() => {\n                        app.modal.show(FreeInviteCode);\n                      }}\n                    >\n                      {app.translator.trans('nodeloc-referral.forum.free_invite_code')}\n                    </Button>\n                    <div class=\"StoreIndex-Body\">\n                      {this.records ? this.recordsContent() :\n                        <LoadingIndicator/>}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  recordsContent() {\n    const formatDate = (timestamp) => {\n      const date = new Date(timestamp);\n      return date.toLocaleString(); // 使用本地格式显示日期和时间\n    };\n    const copyToClipboard = (text) => {\n      const tempInput = document.createElement('textarea');\n      tempInput.value = app.forum.attribute('baseUrl') + '/signup/'+text;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand('copy');\n      document.body.removeChild(tempInput);\n      // 显示复制成功的提示消息\n      app.alerts.show(Alert, {type: 'success'}, \"邀请码已复制到剪贴板\");\n    };\n\n\n    if (!this.records.data.attributes || this.records.data.attributes.length === 0) {\n      return \"\";\n    }\n    return (\n      <div className=\"ReferralHistoryContainer\">\n        <ul>\n          {this.records.data.attributes.map(record => (\n            <li key={record.id}\n                className={record.is_expire ? 'expired' : 'copyable-item'}\n                onclick={record.doorkey ? () => copyToClipboard(record.doorkey.key) : null}\n                >\n              <p> {app.translator.trans('nodeloc-referral.forum.create_time')}: {formatDate(record.created_at)}</p>\n              <p>\n                {app.translator.trans('nodeloc-referral.forum.invite_code')}: <span className={record.is_expire ? 'expired' : 'copyable'}>\n                  {record.doorkey ? (record.doorkey.key ? record.doorkey.key : \"已过期\") : \"已过期\"}\n                </span>\n              </p>\n              <p> {app.translator.trans('nodeloc-referral.forum.count')}: {parseInt(record.key_count) - parseInt(record.registers)}</p>\n              <p> {app.translator.trans('nodeloc-referral.forum.cost')}: {record.key_cost} 能量</p>\n              <p> {app.translator.trans('nodeloc-referral.forum.registers')}: {record.registers}</p>\n              <p> {app.translator.trans('nodeloc-referral.forum.actives')}: {record.actives}</p>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import Extend from 'flarum/common/extenders';\nimport StoreIndex from \"./pages/StoreIndex\";\n\nexport default [\n  new Extend.Routes()\n    .add('nodeloc.referral.store.index', '/store', StoreIndex),\n];\n","import app from 'flarum/forum/app';\nimport {extend} from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport SignupPage from \"./pages/SignupPage\";\nexport {default as extend} from './extend';\nimport SignUpModal from 'flarum/forum/components/SignUpModal';\nimport Stream from 'flarum/common/utils/Stream';\n// 定义路由\napp.routes['nodeloc_signup'] = { path: '/signup', component: SignupPage };\napp.routes['nodeloc_signup_invite'] = { path: '/signup/:doorkey', component: SignupPage };\n\napp.initializers.add('nodeloc-referral', () => {\n// 扩展路由\n  extend(app.routes, 'nodeloc_signup', {\n    path: '/signup',\n    component: SignupPage\n  });\n\n  extend(app.routes, 'nodeloc_signup_invite', {\n    path: '/signup/:doorkey',\n    component: SignupPage\n  });\n  extend(SignUpModal.prototype, 'fields', function (fields) {\n    const isOptional = app.forum.data.attributes['fof-doorman.allowPublic'];\n    const placeholder = isOptional\n      ? app.translator.trans('fof-doorman.forum.sign_up.doorman_placeholder_optional')\n      : app.translator.trans('fof-doorman.forum.sign_up.doorman_placeholder');\n    this.doorkey = Stream(app.doorkey) || Stream('');\n    fields.add(\n      'doorkey',\n      <div className=\"Form-group\">\n        <input className=\"FormControl\" name=\"fof-doorkey\" type=\"text\" placeholder={placeholder} bidi={this.doorkey} disabled={this.loading} />\n      </div>\n    );\n    const noInviteText = app.translator.trans('nodeloc-referral.forum.sign_up.no_invite_text');\n    const getInviteLinkText = app.translator.trans('nodeloc-referral.forum.sign_up.get_invite_link_text');\n\n    fields.add(\n      'get-invite-code-text',\n      m(\n        '.Form-group',\n        m(\n          '.get-invite-code-text Alert',\n          noInviteText,\n          m('a', { href: '/p/5-get-invite-code' }, getInviteLinkText)\n        )\n      )\n    );\n  });\n\n  extend(SignUpModal.prototype, 'submitData', function (data) {\n    const newData = data;\n    const doorkeyValue = this.doorkey() !== undefined ? this.doorkey() : $('input[name=\"fof-doorkey\"]').val();\n    newData['fof-doorkey'] = doorkeyValue;\n    return newData;\n  });\n});\nextend(IndexPage.prototype, 'navItems', function (items) {\n  items.add(\n    'referral-store',\n    <LinkButton href={app.route('nodeloc.referral.store.index')} icon=\"fas fa-share-alt\">\n        {app.translator.trans('nodeloc-referral.forum.referral')}\n    </LinkButton>,\n    0\n  );\n\n});\n"],"names":["module","exports","e","n","r","i","s","u","a","o","c","f","h","d","l","$","y","M","name","weekdays","split","months","ordinal","t","m","String","length","Array","join","v","z","utcOffset","Math","abs","floor","date","year","month","clone","add","ceil","p","w","D","ms","Q","toLowerCase","replace","g","S","_","O","args","arguments","b","locale","$L","utc","$u","x","$x","$offset","this","parse","prototype","$d","Date","NaN","test","match","substring","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","$set","min","daysInMonth","get","Number","round","subtract","format","invalidDate","meridiem","monthsShort","weekdaysMin","weekdaysShort","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","k","forEach","extend","$i","isDayjs","en","Ls","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","getter","__esModule","definition","key","Object","defineProperty","enumerable","obj","prop","hasOwnProperty","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","RedirectToHomeAndOpenModalPage","_Page","_proto","oninit","vnode","_this","route","setTimeout","app","show","createModal","view","Page","SignupPage","_RedirectToHomeAndOpe","attrs","doorkey","user","SignUpModal","BuyInviteCode","_Modal","invite_code_price","attribute","invite_code_reward","invite_code_max_number","invite_code_expires","key_count","Stream","className","title","trans","onsubmit","_this2","preventDefault","loading","method","url","body","then","result","error","type","hide","content","_this3","for","required","id","bidi","Button","onclick","Modal","FreeInviteCode","lastRecord","freecodeList","days","amount","canClaim","remainingTime","lastFreeCodeRequest","freecodeListRequest","Promise","all","_ref","_lastFreeCodeResponse","_app$session$user","lastFreeCodeResponse","freecodeListResponse","data","attributes","highestPermissionGroup","groups","map","group","readPermission","filter","Boolean","reduce","max","matchedFreeCode","find","item","_item$relationships","relationships","lastClaimTime","dayjs","created_at","diffHours","cooldownHours","redraw","console","hours","disabled","StoreIndex","_Component","loadData","response","records","IndexPage","hero","listItems","sidebarItems","toArray","class","style","recordsContent","LoadingIndicator","record","is_expire","text","tempInput","document","createElement","appendChild","select","execCommand","removeChild","Alert","timestamp","toLocaleString","parseInt","registers","key_cost","actives","Component","Extend","path","component","fields","placeholder","noInviteText","getInviteLinkText","href","newData","doorkeyValue","val","items","LinkButton","icon"],"sourceRoot":""}